// @flow

import type { Session } from './session.js.flow'
import type { PhenylClient } from './phenyl-client.js.flow'
import type {
  CustomQuery,
} from './query.js.flow'
import type {
  CustomQueryResult,
} from './query-result.js.flow'

export interface CustomQueryDefinition {
  acl(query: CustomQuery, session: ?Session, client: PhenylClient): Promise<boolean>,
  validation(query: CustomQuery, session: ?Session, client: PhenylClient): Promise<boolean>,
  execution(query: CustomQuery, session: ?Session, client: PhenylClient): Promise<CustomQueryResult>,
}

export type CustomQueryDefinitions = { [name: string]: CustomQueryDefinition }
