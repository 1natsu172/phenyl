// @flow

import type { Restorable } from 'mongolike-operations'
import type { Session } from './session.js.flow'
import type { Entity } from './entity.js.flow'
import type { ErrorResult } from './error-result.js.flow'

export type CommandResult = {
  ok: 1,
  n: number,
}
export type CommandResultOrError = CommandResult | ErrorResult

export type MultiValuesCommandResult = {
  ok: 1,
  n: number,
  values: Array<Entity>
}
export type MultiValuesCommandResultOrError = MultiValuesCommandResult | ErrorResult

export type GetCommandResult = {
  ok: 1,
  n: number,
  value: Entity
}
export type GetCommandResultOrError = GetCommandResult | ErrorResult

export type CustomCommandResult = {
  ok: 1,
  result?: Object
}
export type CustomCommandResultOrError = CustomCommandResult | ErrorResult

export type LoginCommandResult = {
  ok: 1,
  session: Session,
  user: ?Entity,
}
export type LoginCommandResultOrError = LoginCommandResult | ErrorResult

export type LogoutCommandResult = {
  ok: 1,
}
export type LogoutCommandResultOrError = LogoutCommandResult | ErrorResult
