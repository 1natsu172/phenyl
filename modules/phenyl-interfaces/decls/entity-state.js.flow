// @flow
import type {
  UpdateOperators
} from 'mongolike-operations'

import type {
  RestorableEntity
} from './restorable-entity.js.flow'

import type {
  IdQuery,
  IdsQuery,
  WhereQuery,
} from './query.js.flow'

import type {
  UpdateCommand,
  DeleteCommand,
} from './command.js.flow'

export interface EntityState {
  find(query: WhereQuery): Array<RestorableEntity>,
  findOne(query: WhereQuery): ?RestorableEntity,
  get(query: IdQuery): RestorableEntity,
  getByIds(query: IdsQuery): Array<RestorableEntity>,
  $register(entityName: string, ...entities: Array<RestorableEntity>): UpdateOperators,
  $update(command: UpdateCommand): UpdateOperators,
  $delete(command: DeleteCommand): UpdateOperators,
}
