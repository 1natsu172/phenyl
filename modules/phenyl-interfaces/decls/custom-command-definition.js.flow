// @flow

import type { Session } from './session.js.flow'
import type { ClientPool } from './client.js.flow'
import type {
  CustomCommand,
} from './command.js.flow'
import type {
  CustomCommandResult,
} from './command-result.js.flow'

export interface CustomCommandDefinition {
  authorization(command: CustomCommand, session: ?Session, clients: ClientPool): Promise<boolean>,
  validation(command: CustomCommand, session: ?Session, clients: ClientPool): Promise<boolean>,
  execution(command: CustomCommand, session: ?Session, clients: ClientPool): Promise<CustomCommandResult>,
}

export type CustomCommandDefinitions = { [name: string]: CustomCommandDefinition }
