// @flow
import type { UpdateOperation } from 'mongolike-operations'
import type { Id } from './id.js.flow'

export type EntityVersion = {
  id: Id,
  op: string, // stringified UpdateOperation
}

export type EntityMetaInfo = {
  versions: Array<EntityVersion>,
}


export type EntityWithMetaInfo = $Subtype<{
  id: Id,
  _PhenylMeta?: EntityMetaInfo
}>

export type VersionDiff = {
  entityName: string,
  id: Id,
  prevVersionId: Id,
  versionId: Id,
  operation: UpdateOperation,
}
